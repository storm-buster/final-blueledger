import{r as x,j as e,s as c}from"./index-f55PPs_m.js";import{D as b}from"./DocumentViewer-96R4_ASz.js";import{C as o}from"./calendar-p2ta63Zr.js";import{E as p}from"./eye-BgzYpLwB.js";import{C as i}from"./clock-DCb0nvGV.js";import{X as m}from"./x-circle-je_U2-pP.js";import{A as j}from"./arrow-left-DuIS-xwc.js";import{F as n}from"./file-text-BbYC1H0m.js";function V({validations:t}){const[d,r]=x.useState(null),l=s=>{switch(s){case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},a=s=>{switch(s){case"Approved":return e.jsx(c,{className:"w-4 h-4 text-green-500"});case"Rejected":return e.jsx(m,{className:"w-4 h-4 text-red-500"});case"Pending":return e.jsx(i,{className:"w-4 h-4 text-yellow-500"});default:return e.jsx(i,{className:"w-4 h-4 text-gray-400"})}};return d?e.jsx(u,{validation:d,onBack:()=>r(null)}):e.jsxs("div",{className:"p-6 readable-surface",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-gradient-heading text-3xl font-extrabold hero-readable-text mb-2",children:"Validation Management"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Review and approve project validation reports"})]}),e.jsx("div",{className:"overflow-x-auto bg-white/85 dark:bg-gray-800/70 backdrop-blur-md rounded-xl shadow-lg border border-gray-200/60 dark:border-gray-700/60",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Project ID"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Account ID"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Start Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-200",children:"ACVA Assigned"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Submission Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50/70 dark:hover:bg-gray-700/60 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.projectId})}),e.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:s.accountId}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-300",children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"meta-text",children:new Date(s.startDate).toLocaleDateString()})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-nee-100 dark:bg-nee-900/30 text-nee-800 dark:text-nee-300 shadow-sm",children:s.acvaId})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[a(s.status),e.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium shadow-sm ${l(s.status)}`,children:s.status})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-300",children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"meta-text",children:new Date(s.submissionDate).toLocaleDateString()})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("button",{onClick:()=>r(s),className:"inline-flex items-center px-3 py-1.5 bg-nee-600 dark:bg-nee-700 text-white text-sm font-medium rounded-lg hover:scale-[1.02] transition-transform shadow-sm",children:[e.jsx(p,{className:"w-4 h-4 mr-1"}),"Review"]})})]},`${s.projectId}-${s.submissionDate}`))})]})})})]})}function u({validation:t,onBack:d}){const[r,l]=x.useState(null),[a,s]=x.useState(null),g=()=>{console.log("Approving validation for project:",t.projectId),l("approve")},h=()=>{console.log("Rejecting validation for project:",t.projectId),l("reject")};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:d,className:"inline-flex items-center text-nee-600 dark:text-nee-400 hover:text-nee-700 dark:hover:text-nee-300 mb-4",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Back to Validations"]}),e.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:["Validation Review: ",t.projectId]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Compare Project Design Document with Validation Report"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center",children:[e.jsx(n,{className:"w-5 h-5 mr-2 text-blue-500 dark:text-blue-400"}),"Project Design Document (PDD)"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center",children:[e.jsx(n,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Submitted by Account Holder"}),e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:t.pddDocument}),e.jsxs("button",{onClick:()=>s({title:`PDD - ${t.projectId}`,content:t.pddDocument}),className:"mt-4 inline-flex items-center px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white text-sm font-medium rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:[e.jsx(n,{className:"w-4 h-4 mr-2"}),"View PDD"]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Document Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Project ID:"}),e.jsx("span",{className:"text-blue-800 dark:text-blue-200",children:t.projectId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Account ID:"}),e.jsx("span",{className:"text-blue-800 dark:text-blue-200",children:t.accountId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Start Date:"}),e.jsx("span",{className:"meta-text",children:new Date(t.startDate).toLocaleDateString()})]})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center",children:[e.jsx(c,{className:"w-5 h-5 mr-2 text-nee-500 dark:text-nee-400"}),"Validation Report"]}),e.jsxs("div",{className:"space-y-4",children:[t.validationReport?e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center",children:[e.jsx(c,{className:"w-12 h-12 text-nee-400 dark:text-nee-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Submitted by ACVA"}),e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:t.validationReport}),e.jsxs("button",{onClick:()=>s({title:`Validation Report - ${t.projectId}`,content:t.validationReport||"No report"}),className:"mt-4 inline-flex items-center px-4 py-2 bg-nee-600 dark:bg-nee-700 text-white text-sm font-medium rounded-lg hover:bg-nee-700 dark:hover:bg-nee-600 transition-colors",children:[e.jsx(n,{className:"w-4 h-4 mr-2"}),"View Report"]})]}):e.jsxs("div",{className:"border-2 border-dashed border-yellow-300 dark:border-yellow-600 rounded-lg p-8 text-center",children:[e.jsx(i,{className:"w-12 h-12 text-yellow-400 dark:text-yellow-500 mx-auto mb-4"}),e.jsx("p",{className:"text-yellow-600 dark:text-yellow-400 mb-2",children:"Awaiting ACVA Submission"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Validation report not yet submitted"})]}),e.jsxs("div",{className:"bg-nee-50 dark:bg-nee-900/20 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-nee-800 dark:text-nee-300 mb-2",children:"ACVA Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-nee-600 dark:text-nee-400",children:"ACVA ID:"}),e.jsx("span",{className:"text-nee-800 dark:text-nee-200",children:t.acvaId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-nee-600 dark:text-nee-400",children:"Submission Date:"}),e.jsx("span",{className:"meta-text",children:new Date(t.submissionDate).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-nee-600 dark:text-nee-400",children:"Status:"}),e.jsx("span",{className:`font-medium ${t.status==="Approved"?"text-green-600 dark:text-green-400":t.status==="Rejected"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:t.status})]})]})]})]})]})]}),t.status==="Pending"&&t.validationReport&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:"Validation Decision"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:[e.jsx("p",{children:"Review both documents and make a decision:"}),e.jsxs("ul",{className:"mt-2 text-sm list-disc list-inside space-y-1",children:[e.jsx("li",{children:"✅ Approve: Project is sanctioned and moves to verification cycle"}),e.jsx("li",{children:"❌ Reject: Project rejected, account can re-upload corrected PDD"})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{onClick:h,className:"inline-flex items-center px-6 py-2 bg-red-600 dark:bg-red-700 text-white font-medium rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors",children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),"Reject"]}),e.jsxs("button",{onClick:g,className:"inline-flex items-center px-6 py-2 bg-green-600 dark:bg-green-700 text-white font-medium rounded-lg hover:bg-green-700 dark:hover:bg-green-600 transition-colors",children:[e.jsx(c,{className:"w-4 h-4 mr-2"}),"Approve"]})]})]}),r&&e.jsx("div",{className:`mt-4 p-4 rounded-lg ${r==="approve"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:e.jsx("p",{className:`font-medium ${r==="approve"?"text-green-800":"text-red-800"}`,children:r==="approve"?"✅ Validation approved! Project sanctioned and logged on blockchain.":"❌ Validation rejected! Account holder can re-submit corrected PDD."})}),a&&e.jsx(b,{title:a.title,content:a.content,open:!0,onClose:()=>s(null)})]})]})}export{V as default};
